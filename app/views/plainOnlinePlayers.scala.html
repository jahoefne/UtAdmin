@(players: Seq[OnlineUser], loggedInUser: UtAdminUser)
    @import views.RankFormatter
    @import views.Color
    @import models.ChatModel._
    @import org.apache.commons.lang3.StringEscapeUtils.escapeEcmaScript

    <div class="container">
        <div class="card-panel center">
            <table class="bordered highlight responsive-table status-table">
                <thead>
                    <tr>
                        <th></th>
                        <th>Name</th>
                        <th>Rank</th>
                        <th>Score</th>
                        <th>Ip</th>
                        <th>Online</th>
                        <th>PM</th>
                        <th>Punish</th>
                    </tr>
                </thead>

                <tbody>
                    @for((player, count) <- players.zipWithIndex) {
                        <tr>
                            <td><a href="/user?id=@player.id" class="rowlink" target="_blank"></a></td>
                            <td>
                                <i class="material-icons @Teams.apply(player.team).toString-text">label</i>
                                @RankFormatter.adminStar(player.group)
                            </td>
                            <td> @Color.colorize(player.name)</td>
                            <td> @RankFormatter.labelForRank(player.group)</td>
                            <td>@player.score</td>
                            <td><a href="https://www.whoismyisp.org/ip/@player.ip" target="_blank">@player.ip</a></td>
                            <td><time class="timeago" datetime="@player.joined.toString"></time></td>
                            <td>
                                <a class="waves-effect waves-red btn-flat" onclick="privateMessage(@player.serverId, '@escapeEcmaScript(player.name)', @player.id);">
                                    <i class="material-icons">message</i>
                                </a>
                            </td>
                        <td>
                            <a class='waves-effect waves-red dropdown-button btn-flat' href='#' data-activates='dropdown@player.serverId'><i class="material-icons">settings</i></a>

                            <ul id='dropdown@player.serverId' class='dropdown-content'>
                            @defining(escapeEcmaScript(player.name).dropRight(2)) { name =>
                                <li>
                                    <a href="#" onclick="punishOnline(jsRoutes.controllers.Rcon.slap(@player.serverId, '@name'),'Slapped @name');">Slap</a></li>

                            @if(loggedInUser.rank != Ranks.Mod) {
                                <li><a href="#" onclick="punishOnline(jsRoutes.controllers.Rcon.nuke(@player.serverId, '@name'), 'Nuked @name');">Nuke</a></li>
                                <li><a href="#" onclick="punishOnline(jsRoutes.controllers.Rcon.kill(@player.serverId, '@name'),'Killed @name' );">Kill</a></li>
                                <li><a href="#" onclick="punishOnline(jsRoutes.controllers.Rcon.kick(@player.serverId, '@name'),'Kicked @name');">Kick</a></li>
                                <li class="divider"></li>
                                <li><a href="#" onclick="punishOnline(jsRoutes.controllers.Rcon.forceRed(@player.serverId, '@name'),'Forced red @name');">Force Red</a></li>
                                <li><a href="#" onclick="punishOnline(jsRoutes.controllers.Rcon.forceBlue(@player.serverId, '@name'),'Forced blue @name');">Force Blue</a></li>
                                <li><a href="#" onclick="punishOnline(jsRoutes.controllers.Rcon.forceSpec(@player.serverId, '@name'),'Forced spec @name' );">Force Spec</a></li>
                                <li class="divider"></li>
                                <li><a href="#" onclick="punishOnline(jsRoutes.controllers.Rcon.startServerDemo(@player.serverId, '@name'),'Started serverdemo of @name' );">
                                    Start Serverdemo</a></li>
                                <li><a href="#" onclick="punishOnline(jsRoutes.controllers.Rcon.stopServerDemo(@player.serverId, '@name'),'Stoped serverdemo of @name' );">
                                    Stop Serverdemo</a></li>
                            }
                            }
                            </ul>
                        </td>
                        </tr>

                    }
                    <!-- <tr>
                    <td></td><td></td><td></td>
                        <!-- <td><i class="material-icons blue-text">face</i> @players.count(_.team == Teams.blue)
                    &nbsp; </td>
                <td><i class="material-icons red-text">face</i> @players.count(_.team == Teams.red) &nbsp;</td>
                <td><i class="material-icons grey-text">face</i> @players.count(_.team == Teams.spec) &nbsp;</td>-->
                    <!--   <td>&nbsp;&sum; @players.length </td>
                <td></td> <td></td> <td></td> <td></td>
                </tr>-->
                </tbody>
            </table>
        </div>
    </div>